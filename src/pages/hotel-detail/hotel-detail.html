<!--
  Generated template for the ProfilePage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar class="nav-transparent" color="dark">
    <ion-title>{{ hotel.name }}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content class=" light-bg">
  <!--slides-->
  <ion-slides class="to-top" pager>
    <ion-slide *ngFor="let image of hotel.images">
      <img src="{{ image }}" alt="">
    </ion-slide>
  </ion-slides>

  <!--hotel detail-->
  <div class="primary-bg" padding>
    <div class="pull-left">
      <ion-badge class="square" *ngIf="hotel.sale_price" color="green">{{ (100 * (1 - hotel.price /
        hotel.sale_price)).toFixed(0) }}%
      </ion-badge>
      <span ion-text color="light">+VIP</span>
    </div>
    <div class="pull-right">
      <span ion-text color="light">{{ hotel.numb_available_rooms }} rooms left</span>
    </div>
    <div class="clear"></div>
  </div>

  <!--price info-->
  <div class="price-info" padding>
    <div class="pull-left">
      <span class="price" *ngIf="!hotel.sale_price" ion-text color="light">{{ hotel.price | currency:'USD':true }}</span>
      <span class="sale-price" *ngIf="hotel.sale_price"
            ion-text color="light">{{ hotel.sale_price | currency:'USD':true }}</span><span ion-text color="light">/night</span>
      <span class="origin-price" *ngIf="hotel.sale_price" ion-text color="light">{{ hotel.price | currency:'USD':true }}</span>
    </div>
    <div class="pull-right">
      <a href="#rooms">
        <button ion-button color="white">Select a Room</button>
      </a>
    </div>
    <div class="clear"></div>
  </div>

  <!--rating info-->
  <div class="border-bottom" padding>
    <div class="pull-left">
      <ion-badge color="dark">{{ hotel.rating }}</ion-badge>
      <span ion-text color="dark">of 5</span>
    </div>
    <div class="pull-right">
      <span ion-text color="primary" (click)="viewReviews()">VIEW {{ hotel.reviews.length }} REVIEWS</span>
    </div>
    <div class="clear"></div>
  </div>

  <!--services-->
  <ion-grid class="border-bottom">
    <ion-row>
      <ion-col *ngFor="let service of hotel.services" text-center>
        <ion-icon class="text-2x" name="{{ service.icon }}" color="dark"></ion-icon>
        <span class="service-name" ion-text color="dark">{{ service.name }}</span>
      </ion-col>
    </ion-row>
  </ion-grid>

  <!--hotel description-->
  <p class="border-bottom" padding no-margin ion-text color="dark">
    {{ hotel.description }}
  </p>
  <!-- Show map here -->
  <div id="map-detail"></div>

  <!--free internet-->
  <div class="border-bottom" *ngIf="hotel.free_wifi" padding>
    <ion-icon name="checkmark" color="green"></ion-icon>
    <span ion-text color="dark">All rooms include free wifi internet</span>
  </div>

  <!--rooms-->
  <div class="rooms" id="rooms">
    <div class="border-bottom" padding *ngFor="let room of hotel.rooms">
      <div class="room-info card" [hidden]="!room.active">
        <div class="room-image" [ngStyle]="{'background-image': 'url(' + room.thumb + ')'}"></div>
        <div class="border-bottom" padding>
          <div>
            <div class="pull-left">
              <h6>{{ room.name }}</h6>
            </div>
            <div class="pull-right">
              <span class="bold" ion-text color="primary">{{ room.price | currency:'USD':true }}</span>
              <span ion-text color="primary">/night</span>
            </div>
            <div class="clear"></div>
          </div>
          <div class="room-features">
            <div class="pull-left">
              <div>
                <ion-icon name="checkmark" color="green"></ion-icon>
                {{ room.beds }}
              </div>
              <div *ngIf="hotel.free_wifi">
                <ion-icon name="checkmark" color="green"></ion-icon>
                <span>Includes free wifi internet</span>
              </div>
              <div *ngIf="room.refundable">
                <ion-icon name="checkmark" color="green"></ion-icon>
                Refundable
              </div>
              <div *ngIf="!room.refundable">
                <ion-icon name="ios-close-circle-outline"></ion-icon>
                Non-refundable
              </div>
            </div>
            <div class="pull-right" text-right>
              <button ion-button (click)="checkout()">Book</button>
            </div>
            <div class="clear"></div>
          </div>
        </div>
        <div padding>
          <span ion-text color="dark">Room information</span>
          <span class="pull-right" [hidden]="room.show_info" (click)="room.show_info = true">
            <ion-icon name="ios-arrow-down" color="dark"></ion-icon>
          </span>
          <p [hidden]="!room.show_info" ion-text color="dark">{{ room.room_info }}</p>
          <span class="pull-right" [hidden]="!room.show_info" (click)="room.show_info = false">
            <ion-icon name="ios-arrow-up" color="dark"></ion-icon>
          </span>
          <div class="clear"></div>
        </div>
      </div>

      <div [hidden]="room.active">
        <div class="pull-left">
          <h6>{{ room.name }}</h6>
        </div>
        <div class="pull-right">
          <span class="bold">{{ room.price | currency:'USD':true }}</span>
          <span>/night</span>
        </div>
        <div class="clear"></div>
      </div>
      <div [hidden]="room.active">
        <div class="pull-left">
          <div>{{ room.beds }}</div>
          <span ion-text color="dark">{{ room.numb_available_rooms }} rooms left</span>
        </div>
        <div class="pull-right" text-right>
          <button ion-button color="white" (click)="viewRoom(room)">View Room</button>
        </div>
        <div class="clear"></div>
      </div>
    </div>
  </div>

  <!--hotel info-->
  <div class="border-bottom" padding>
    <h6>Hotel Features</h6>
    <p ion-text color="dark">{{ hotel.features }}</p>

    <h6>Room Amenities</h6>
    <p ion-text color="dark">{{ hotel.room_amenities }}</p>

    <h6>Property Amenities</h6>
    <p ion-text color="dark">{{ hotel.room_amenities }}</p>
  </div>

</ion-content>

